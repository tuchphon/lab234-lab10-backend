language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t $DOCKER_USERNAME/se234-lab10-backend .
- docker push tuchphon/se234-lab10-backend
- docker pull tuchphon/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up 
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: Jdyzvz842NZkeHprr58Uz7OoRXlFwLnKXQ4sK9wBH0ijl2Ly3lVIUiI4uhhs8EWjKFJHBqz7wiZOauCxl5F3XGtbiLtXA/CIUyNgzI8FA/IPdkIkwBcP30t3OBxL7WaOTfjVkJRMivZ10hL6XrUyBD9C1RwoRp3GvDxhmkEXLw5ZI1HVqsGkB/Fdg7b+64lAUxlhQiOWrr2urY7lwWN8hGIgu5wNgquVr5kJPsrOxFCX6sDN1AnV2ZOX+ZO8wwr/xoCTrq6fUNcVEj82CMBPjC3le+v11QVSwEhTe+Ubl4wDxctGLTdJi8LXehKxO6eaetT7ok9d6OTlbkYBzWa7FAnJA8BNbT0Npa0WDrYS4JttdhTtl/b8aaZTRMN4SJ0Cfu4w1utbNN5WS8Xx6TmqULOR8BdMuzJw2Z4LMN2mMnalO3E2Bqi9u/EXpXC9Y4wtMQd5SsJRQn9JLnBNdEUGJdNsyIBRrEiJVoQC6+Q0g92QdAJTK/sr8mKgLyyc+TrY9mdl5VDiLpfAR3I2xUIqpqG8XcUjDmcNKY0SbosJ2CGZq/yhyDnq0GqvXo5DbRnjU3gI3xn11hmfgKaZjdE/1OWCib53/YJbKC24YZwvTkfhGT2BBYFoDAGworinYU/alc5LksUfFb63yl0qPMUSXey1x/NgAj34BMfiNUXZtEo=
  - secure: KFbanXAu/8e/1f0DtbdNeeiMnz00BQ2Pl3i179G7UW7wvPdLOuULIXfAU8asQS90bG3VFMx4s/no2TsFNXf4mboYUkAX+id1PpMZWliDqgkJ2WC9aanXwIUaZoybhX1wLDlIWrUOQfmH9z2q3Ma/XA1Zuw9gyu+e0+5uB6JPC2lQnp6SR9DnFjGr4KPO5n+EHjIIP5x7sP5paqIFQ98LG4vGTVbwLtaL2idCyLgUTPdetnES4ggZ47KAx+eYAVmt7hRj7ATacMryZN+pMmiwqdgSxBJUX7rBQgGm3+ZPeIoYJiRBoRX6sZJ58MwV4VlOAPa9ocz4AVlmjJI0PGaTgn+vTL1+yan+5gHyU46k96byiGVP6qkI/joptsGKpERDF4KCDjOnGJwdOHsyuSFH4rhC3HZ1MCWbrj6eDrut35zxwL0pGnPdgkCfwusEZXRaZbjccdYSWQdGvhbCe5mkff8Y0ev4g3cHiUGw8mtU33zC+cmRBBZfbCP/NxjKIZhiYkWMLLwArblMeHtguVK6HgLxTIddDAMgREl1rzkFeOi+pDoo+VfR7DBFr1PtL+K/yFZPgBPZjku4oaOqMcTGFIGd+35YlkB5ROWZ2f/3hsCpHHvN9XQGXhVjZK9NjP4Zn5s2Zv3n882KTrnOhyllXLVenYG70rea+ekG6TlYZoQ=
  - secure: Jpi3prM61S6b0/gDfKUYiq37rvDMBZufPTlhi42f4VcM8bq/H1drsZ+k41+/6bwd6vo24vq01SntHnuqqcauT1Wb3D38W6rU7x8tL6UkGRawPsv7rdAJiPsgOehK0U5Bk2U/di1H5OQmkDiNt3rT7ttEh1FpCi9G/LWM83qH3POH5Rq6LOSYM3BkQ8+VjYynf8kCiEsbPd79j/Sy8Z2o/5KZbwR5vlhQxQO8YRXPbwuv2XQeSthePScv31tyL7pEeVUqLiaf0EDG8bdHmB6TgaJf8p1igwVbC9enpRHySBotxNsw2PyMV6SoGU6c+8iikQ/zcPO495xYYRCU8f4ic+T35mNlfSPwKO2J15Ci5R6LV5c0dtWVip0Q3fH+onzWrPn9IlFb/MJrxM2MwM2FMYCKuuPYbr2ankpadco1H91gZOGbyVlgxa4xjrOJ2m0qLt+2rPAtXI1kFSpzZT2hijz76E6OTix4jQwF1rYb56j8+aX/rx8o5vTWLM6vwIPv38zXbjhwALCorlY3iqCf5NDglkADUmdXCHN+JzZz6TRm8hpO6cfBk2dQOeyJXAKP1eDW1i/KhyxBTb3DkvjbiSxRyPnV6CzC81lqoLOds2itzhIpiDr/hlcFgM4ZMBDItKq1nv9dYiGA738npBt9U34kkPPmvpnYkg9XP2i3B9M=
  - secure: hJMcZQRzmW9hlK5+at/j2882nJCNP3FOl+mlvNGyQZkBKtddHTCnSkS795nMtXfXnYOtlyArq7lvWHXWsrSEGb75U3sSRHbCqJqtQtArTY56+mRxtFc0/JZtQ8ELlcIQ0pjk40LFytbHSW1oWjMTSi32gfibvgPtg5l/wxtgIgFuV7rJZfoGQZ9RpQVqfBly1v92GkvFnlQSDw8CKDDExnesDv7FmLZQWUjlxkax9clwMs6Q5+B2qdMfNNOcwRi6JGl6/Uu0ihwfjbbWJaRt1AnqUFcL1QpMNqdj2/8rMBwPNZsLiMa61tWW9neBP9v+hcJJl7QzTehdFXpule57jvpo114Xk4L9mC3jkdJK4jPGsgLXnI35GHh14JyaCeD9yWkxR9tbZ+Yr/rpOoltZ+neZrfYYLzzmOR3TEOLzliTMeMhmPQEBiuaxU+SUr2ZFa6olVSPxqxGjBhjUzZHRjwqmdahk75W+iH5v9Rc1efeeA8FnhZIrNf1JWKH9uQP5qhsVeM6AC3XEDTO/6uMn1uWJVoik/qXwu14Lt+LovwH0tJxQcMlyxsyNK+ldpVqKGCAWGAhC1TFeoCz46Y77u9WEZkvg2c8Mm6wxKxvEkOgE3+rasmQO+Wdk3uxzVVJ2jfCM8XlBO0L2Xvyw/f6vfj4GFuPfH37GIYw2+9/y1IM=
